<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% seo %} <style>
        :root { 
            --main-red: #ff4d4f; 
            --bg-gray: #f8fafc; 
            --dark-text: #1a1a1a;
        }
        
        body { 
            font-family: -apple-system, "Noto Sans TC", sans-serif; 
            background: var(--bg-gray); 
            margin: 0; 
            padding: 0; 
            line-height: 1.8;
            color: var(--dark-text);
            font-size: 18px; /* åŠ å¤§åŸºç¤å­—é«” */
        }
        
        /* é ‚éƒ¨å°èˆª */
        .header { 
            background: #fff; 
            padding: 15px 20px; 
            display: flex; 
            align-items: center; 
            border-bottom: 1px solid #eee; 
            position: sticky; 
            top: 0; 
            z-index: 100; 
        }
        .back-btn { text-decoration: none; color: #333; font-size: 1.5rem; margin-right: 15px; }

        .container { max-width: 600px; margin: 0 auto; background: #fff; min-height: 100vh; box-shadow: 0 0 20px rgba(0,0,0,0.05); }
        
        /* å“ç‰Œåœ–ç‰‡å€ */
        .hero-img-wrap { 
            width: 100%; 
            aspect-ratio: 16/9; 
            background: #fff; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            border-bottom: 1px solid #f0f0f0; 
        }
        .hero-img-wrap img { max-width: 70%; max-height: 70%; object-fit: contain; }

        /* å…§å®¹å€ */
        .post-content { padding: 30px 25px; }
        .category-label { color: var(--main-red); font-weight: 800; font-size: 1rem; margin-bottom: 10px; display: block; }
        .main-title { font-size: 1.8rem; font-weight: 900; margin: 10px 0; line-height: 1.4; color: #000; }
        
        /* æ•¸æ“šè³‡è¨Šåˆ— */
        .meta-info { display: flex; gap: 15px; color: #666; font-size: 1rem; margin-bottom: 25px; border-bottom: 1px solid #f0f0f0; padding-bottom: 20px; }
        
        /* æŠ˜æ‰£é†’ç›®ç›’ */
        .promo-box { 
            background: #fff2f0; 
            border: 2px dashed var(--main-red); 
            border-radius: 16px; 
            padding: 25px; 
            text-align: center; 
            margin: 30px 0; 
        }
        .promo-price { color: var(--main-red); font-size: 2rem; font-weight: 900; margin-bottom: 8px; }
        .promo-badge { background: var(--main-red); color: #fff; padding: 4px 12px; border-radius: 6px; font-size: 0.9rem; font-weight: bold; }

        /* æ–‡ç« å…§æ–‡ */
        .article-body { font-size: 1.15rem; color: #333; margin-bottom: 40px; }
        .article-body h3 { font-size: 1.4rem; color: #000; border-left: 5px solid var(--main-red); padding-left: 12px; margin-top: 40px; }
        
        /* åº•éƒ¨æ‡¸æµ®æŒ‰éˆ•å€ (é‡å°æ‰‹æ©Ÿå„ªåŒ–) */
        .action-bar { 
            position: fixed; 
            bottom: 0; 
            left: 0; 
            right: 0; 
            background: rgba(255,255,255,0.95); 
            padding: 20px; 
            border-top: 1px solid #eee; 
            display: flex; 
            justify-content: center;
            max-width: 600px; 
            margin: 0 auto; 
            backdrop-filter: blur(10px);
        }
        .btn-main { 
            width: 100%;
            background: var(--main-red); 
            color: #fff; 
            border: none;
            text-align: center; 
            padding: 18px; 
            border-radius: 50px; 
            font-weight: 900; 
            font-size: 1.3rem; 
            box-shadow: 0 8px 20px rgba(255, 77, 79, 0.3); 
            cursor: pointer;
            transition: transform 0.2s;
        }
        .btn-main:active { transform: scale(0.98); }
        
        .spacer { height: 120px; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <a href="/" class="back-btn">â†</a>
        <div style="font-weight: 900; font-size: 1.1rem;">å„ªæƒ è©³æƒ…å›å ±</div>
    </div>

    <div class="hero-img-wrap">
        <img src="/assets/images/{{ page.filename }}.jpg" 
             onerror="this.src='/assets/images/{{ page.filename }}.png'">
    </div>

    <div class="post-content">
        <span class="category-label"># {{ page.tags | first }}</span>
        <h1 class="main-title">{{ page.title }}</h1>
        
        <div class="meta-info">
            <span>â­ {{ page.rating }}</span>
            <span>ğŸ’¬ {{ page.reviews }} è©•åƒ¹</span>
            <span>âœ… å¯¦æ¸¬æœ‰æ•ˆ</span>
        </div>

        <div class="promo-box">
            <div class="promo-price" id="copyTarget">{{ page.price }}</div>
            <div class="promo-badge">{{ page.badge | default: "é™æ™‚é ˜å–ä¸­" }}</div>
            <p style="font-size: 0.8rem; color: #999; margin-top: 10px;">é»æ“Šä¸‹æ–¹æŒ‰éˆ•å°‡è‡ªå‹•è¤‡è£½å„ªæƒ è³‡è¨Š</p>
        </div>

        <div class="article-body">
            {{ content }}
        </div>
        
        <div class="spacer"></div>
    </div>

    <div class="action-bar">
        <button onclick="copyAndGo()" class="btn-main">é ˜å–å„ªæƒ ä¸¦å‰å¾€å®˜ç¶²</button>
    </div>
</div>

<script>
function copyAndGo() {
    // ç²å–è¦è¤‡è£½çš„å…§å®¹
    const promoText = document.getElementById('copyTarget').innerText;
    
    // ä½¿ç”¨ Clipboard API è¤‡è£½
    navigator.clipboard.writeText(promoText).then(() => {
        // å½ˆå‡ºæç¤ºçµ¦ä½¿ç”¨è€…
        alert("ğŸ‰ å·²è‡ªå‹•ç‚ºæ‚¨è¤‡è£½ï¼š\n" + promoText + "\n\nç¾åœ¨å°‡é–‹å•Ÿå®˜ç¶²ï¼Œè«‹åœ¨çµå¸³æ™‚è²¼å‡ºã€‚");
        
        // å»¶é²è·³è½‰ï¼Œç¢ºä¿ alert é—œé–‰å¾ŒåŸ·è¡Œ
        setTimeout(() => {
            window.location.href = "{{ page.affiliate_link }}";
        }, 100);
    }).catch(err => {
        // å‚™æ´æ–¹æ¡ˆï¼šè‹¥è¤‡è£½å¤±æ•—å‰‡ç›´æ¥è·³è½‰
        window.location.href = "{{ page.affiliate_link }}";
    });
}
</script>

</body>
</html>